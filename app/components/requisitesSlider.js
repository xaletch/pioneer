const slider=document.querySelector(".requisites .wrapper"),items=document.querySelectorAll(".requisites .wrapper .card"),dots=document.querySelectorAll(".requisites_dots-item");let cardWidth=608,spacing=24,lengthItems=items.length-1,active=0,isDragging=!1,startPos=0,currentTranslate=0,prevTranslate=0,animationID=0;function dragStart(e){"touchstart"===e.type?startPos=e.touches[0].clientX:(startPos=e.clientX,slider.style.cursor="grabbing"),isDragging=!0,animationID=requestAnimationFrame(animation)}function drag(e){if(isDragging)currentTranslate=prevTranslate+((e.type.includes("mouse")?e.clientX:e.touches[0].clientX)-startPos),animationID||(animationID=requestAnimationFrame(animation))}function reloadSlider(){let e=-(cardWidth+spacing)*active;slider.style.transform=`translateX(${e}px)`;let t=document.querySelector(".requisites_dots-active");t&&t.classList.remove("requisites_dots-active"),dots[active].classList.add("requisites_dots-active")}function dragEnd(){cancelAnimationFrame(animationID),isDragging=!1;let e=currentTranslate-prevTranslate;e<-100&&active<lengthItems?active++:e>100&&active>0&&active--,currentTranslate<-2290&&(active=0),prevTranslate=currentTranslate=-(cardWidth+spacing)*active,slider.style.cursor="grab",reloadSlider()}function animation(){slider.style.transform=`translateX(${currentTranslate}px)`,isDragging&&requestAnimationFrame(animation)}function debounce(e,t,r){var a;return function(){var i=this,n=arguments,s=function(){a=null,r||e.apply(i,n)},d=r&&!a;clearTimeout(a),a=setTimeout(s,t),d&&e.apply(i,n)}}screen.width<=940&&(slider.addEventListener("mousedown",dragStart),slider.addEventListener("touchstart",dragStart),slider.addEventListener("mouseup",dragEnd),slider.addEventListener("touchend",dragEnd),slider.addEventListener("mouseleave",dragEnd),slider.addEventListener("mousemove",drag),slider.addEventListener("touchmove",drag)),screen.width<=680&&(cardWidth=458),screen.width<=480&&(cardWidth=320,spacing=16),window.onresize=debounce(function(){reloadSlider()},250),dots.forEach((e,t)=>{e.addEventListener("click",()=>{active=t,reloadSlider()})}),window.onresize=function(){reloadSlider()};